<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Math Function Table</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet">

  <!-- MathQuill CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/mathquill@0.10.1/build/mathquill.css">

  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="bg-light">
  <div class="container py-4">
    <h1 class="mb-4 text-center">Math Function Table Generator</h1>

    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <div class="row g-3 align-items-center">
          <div class="col-lg-6">
            <label class="form-label">Expression</label>
            <div id="math-input" tabindex="0" class="form-control"></div>
          </div>
          <div class="col-lg-6">
            <label class="form-label">Toolbar</label>
            <div id="toolbar" class="btn-toolbar flex-wrap" role="toolbar">
              <!-- Arithmetic -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-write="+" title="Plus">+</button>
                <button class="btn btn-sm btn-outline-secondary" data-write="-" title="Minus">−</button>
                <button class="btn btn-sm btn-outline-secondary" data-latex="\\times" title="Multiply">×</button>
                <button class="btn btn-sm btn-outline-secondary" data-latex="\\div" title="Divide">÷</button>
                <button class="btn btn-sm btn-outline-secondary" data-write="=" title="Equals">=</button>
              </div>
              <!-- Grouping -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-write="(" title="Open">(</button>
                <button class="btn btn-sm btn-outline-secondary" data-write=")" title="Close">)</button>
              </div>
              <!-- Powers & subscripts -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-write="^" title="Power">xʸ</button>
                <button class="btn btn-sm btn-outline-secondary" data-cmd="_" title="Subscript">xₙ</button>
                <button class="btn btn-sm btn-outline-secondary" data-cmd="sqrt" title="√">√</button>
              </div>
              <!-- Fractions -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-fraction="true" title="Frac">a⁄b</button>
              </div>
              <!-- Functions -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-custom="exp" title="eⁿ">eʸ</button>
                <button class="btn btn-sm btn-outline-secondary" data-custom="ln" title="ln">ln</button>
                <button class="btn btn-sm btn-outline-secondary" data-custom="log" title="log">log</button>
                <button class="btn btn-sm btn-outline-secondary" data-cmd="sin" title="sin">sin</button>
                <button class="btn btn-sm btn-outline-secondary" data-cmd="cos" title="cos">cos</button>
                <button class="btn btn-sm btn-outline-secondary" data-cmd="tan" title="tan">tan</button>
              </div>
              <!-- Calculus -->
              <div class="btn-group me-1" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-custom="derivative" title="d/dx">d/dx</button>
                <button class="btn btn-sm btn-outline-secondary" data-custom="integral" title="∫ dx">∫ dx</button>
                <button class="btn btn-sm btn-outline-secondary" data-custom="definite" title="∫ₐᵇ dx">∫⟮⟯ dx</button>
              </div>
              <!-- Constants -->
              <div class="btn-group" role="group">
                <button class="btn btn-sm btn-outline-secondary" data-latex="\\pi" title="Pi">π</button>
                <button class="btn btn-sm btn-outline-secondary" data-write="e" title="Euler’s e">e</button>
              </div>
            </div>
          </div>
        </div>

        <div class="row g-3 align-items-center mt-3">
          <div class="col-sm-2">
            <label class="form-label">Start x</label>
            <input id="start" type="number" class="form-control" value="0">
          </div>
          <div class="col-sm-2">
            <label class="form-label">End x</label>
            <input id="end" type="number" class="form-control" value="10">
          </div>
          <div class="col-sm-2">
            <label class="form-label">Δx</label>
            <input id="step" type="number" class="form-control" value="1">
          </div>
          <div class="col-sm-2">
            <label class="form-label">Initial y₀</label>
            <input id="initial_y" type="number" class="form-control" value="1">
          </div>
          <div class="col-sm-4 d-grid">
            <button id="generate" class="btn btn-primary mt-4">Generate Table</button>
          </div>
        </div>
      </div>
    </div>

    <div id="params" class="mb-2 fst-italic"></div>
    <div id="result"></div>
  </div>

  <!-- Dependencies -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathquill@0.10.1/build/mathquill.min.js"></script>
  <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
